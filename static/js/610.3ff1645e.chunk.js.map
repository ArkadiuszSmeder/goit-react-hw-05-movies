{"version":3,"file":"static/js/610.3ff1645e.chunk.js","mappings":"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","sources":["components/BackLink.jsx","pages/MovieDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n`;\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      {children}\n    </StyledLink>\n  );\n};\n","import { useParams, useLocation, Outlet, Link } from \"react-router-dom\";\nimport { BackLink } from \"../components/BackLink\";\nimport React, { useState, Suspense } from 'react';\nimport { useQuery } from \"react-query\";\n\n\nconst MovieDetails = () => {\n\n  const { movieId } = useParams(); // używa parametru movieId do wyszukiwania w funkcji getMovieById - zaszyty w App i Home\n  // const navigate = useNavigate();\n\n  const getMovieById = async () => {\n\n    const query = `https://api.themoviedb.org/3/movie/${movieId}?api_key=fcef3f7d90b41f3f85ee0cce371ea367`\n    const response = await fetch(query)\n    if (!response.ok) {\n      throw new Error('Network response was not ok')\n    }\n    return response.json()\n  }\n\n  const [movieDetails, setMovieDetails] = useState(null) // hook do przechowywania informacji o filmie\n\n  useQuery({\n    queryKey: ['movie-details', movieId],\n    queryFn: () => getMovieById(),\n    onSuccess: (movieDetails) => {\n      setMovieDetails(movieDetails)\n      // console.log(movieDetails)\n    }\n  });\n\n  const location = useLocation();\n  let backLinkHref = location.state?.from ?? \"/movies\"; //powrót w zależności od ściezki\n  console.log(location.state)\n\n  return (\n    <main>\n      <BackLink to={backLinkHref}>Go Back</BackLink>\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        {movieDetails && (\n            <div>\n              <img\n                src={`https://image.tmdb.org/t/p/w500/${movieDetails.poster_path}`}\n                alt={movieDetails.title}\n                style={{ minWidth: '270px', maxWidth: '270px' }}\n              />\n            </div>\n            )}\n        {movieDetails && (\n          <div style={{ marginLeft: '20px' }}>\n            <h1>{movieDetails.title} ({movieDetails.release_date.slice(0,4)})</h1>\n            <p>User score: {Math.round((movieDetails.vote_average) * 10)}%</p>\n            <h2>Overwiew</h2>\n            <p>{movieDetails.overview}</p>\n            <h3>Genres</h3>\n            <p>{movieDetails.genres.map(genre => genre.name).join(' ')}</p>\n          </div>\n        )}\n      </div>\n      <p>Additional information</p>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>Loading subpage...</div>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n\n\n/* <button onClick={() => navigate(-1)}>\nGo Back\n</button> */\n// button cofający","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["StyledLink","styled","Link","_templateObject","_taggedTemplateLiteral","BackLink","_ref","to","children","_jsx","_location$state$from","_location$state","movieId","useParams","getMovieById","_asyncToGenerator","_regeneratorRuntime","_callee","query","response","_context","prev","next","concat","fetch","sent","ok","Error","abrupt","json","stop","apply","arguments","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","useQuery","queryKey","queryFn","onSuccess","location","useLocation","backLinkHref","state","from","console","log","_jsxs","style","display","alignItems","src","poster_path","alt","title","minWidth","maxWidth","marginLeft","release_date","slice","Math","round","vote_average","overview","genres","map","genre","name","join","Suspense","fallback","Outlet","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}